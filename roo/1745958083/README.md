# ローカルストレージからSupabaseへの移行プロジェクト

## 概要

このプロジェクトは、現在ローカルストレージを使用しているカスタマーサポートアプリケーションのデータ管理をSupabaseに移行するためのものです。移行対象のデータは以下の通りです：

1. **マニュアルデータ（manuals）**: カスタマーサポートの対応方針や署名などの情報
2. **商品データ（products）**: 商品の詳細情報（名前、価格、在庫状況、説明など）
3. **シナリオデータ（scenarios）**: 返信のテンプレートやシナリオ（肯定的な回答、否定的な回答など）

## ドキュメント一覧

1. [ローカルストレージ分析](./local-storage-analysis.md) - 現在のローカルストレージの実装と使用状況の分析
2. [Supabase移行計画](./supabase-migration-plan.md) - Supabaseへの移行計画の詳細

## 移行の目的

1. **データの永続化**: ブラウザのローカルストレージはクリアされる可能性があるため、データの永続化が必要
2. **ユーザー間のデータ共有**: 複数のユーザーがデータを共有できるようにする
3. **デバイス間の同期**: 異なるデバイスでも同じデータにアクセスできるようにする
4. **セキュリティの向上**: Row Level Security（RLS）を使用して、ユーザーごとのデータアクセス制御を実現
5. **自動データ初期化**: 新規ユーザー登録時にデフォルトデータを自動的に挿入

## 移行の概要

1. **テーブル設計**: Supabaseに必要なテーブル（manuals, products, scenarios）を作成
2. **マイグレーション**: ローカルストレージのデータをSupabaseに移行
3. **コード変更**: アプリケーションのコードを修正して、Supabaseからデータを取得・保存するように変更
4. **テスト**: 単体テストと統合テストを実施して、移行が正しく行われていることを確認

## 技術スタック

- **フロントエンド**: Next.js
- **データベース**: Supabase (PostgreSQL)
- **認証**: Supabase Auth

## 移行スケジュール

移行作業は約1ヶ月で完了する予定です：

1. **フェーズ1**: 準備（1週間）
2. **フェーズ2**: 実装（2週間）
3. **フェーズ3**: テスト（1週間）
4. **フェーズ4**: デプロイ（1週間）

## リスクと対策

主なリスクとその対策については、[Supabase移行計画](./supabase-migration-plan.md)の「リスクと対策」セクションを参照してください。