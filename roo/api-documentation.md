# API ドキュメント

## ユーザー作成 API

### 概要

このAPIは、サービスロールキーを使用して新しいユーザーを作成し、ユーザー情報（パスワードを含む）を返します。
このAPIは管理者専用であり、適切なアクセス制御が必要です。

### エンドポイント

```
GET /api/make-user
```

### パラメータ

| パラメータ名 | 必須 | 説明 |
|------------|------|------|
| email      | はい  | 作成するユーザーのメールアドレス |

### レスポンス

#### 成功時のレスポンス (200 OK)

```json
{
  "message": "ユーザーが正常に作成されました",
  "user": {
    "id": "ユーザーID",
    "email": "ユーザーのメールアドレス",
    "password": "生成されたパスワード",
    ...その他のユーザー情報
  }
}
```

#### エラー時のレスポンス

**400 Bad Request** - メールアドレスが提供されていない場合

```json
{
  "error": "メールアドレスが必要です"
}
```

**500 Internal Server Error** - ユーザー作成時にエラーが発生した場合

```json
{
  "error": "エラーメッセージ"
}
```

### 使用例

```
GET /api/make-user?email=user@example.com
```

### 注意事項

- このAPIはサービスロールキーを使用しているため、公開APIとして公開すべきではありません。
- 適切なアクセス制御を実装して、認証された管理者のみがアクセスできるようにしてください。
- パスワードが平文で返されるため、セキュアな接続（HTTPS）を使用してください。
- 本番環境では、このAPIの使用は監査ログに記録することをお勧めします。